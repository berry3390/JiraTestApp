name: CI

on:
  push:
    branches:
      - master
      - develop
      - 'develop/**'
  pull_request:
    branches:
      - master
      - develop

jobs:
  build_and_test:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout the code
    - uses: actions/checkout@v2
    - name: Restore gradle.properties
      env:
        GRADLE_PROPERTIES: ${{ secrets.GRADLE_PROPERTIES }}
      shell: bash
      run: |
        mkdir -p ~/.gradle/
        echo "GRADLE_USER_HOME=${HOME}/.gradle" >> $GITHUB_ENV
        echo "${GRADLE_PROPERTIES}" > ~/.gradle/gradle.properties
    - name: Build the app
      run: ./gradlew build

      
        
        
